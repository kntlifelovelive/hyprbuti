/////////////////////////////////
//                             //
//  Waybar main configuration  //
//                             //
/////////////////////////////////
{
  "layer": "top",
  "position": "top",
  "height": 30,
  "spacing": 2,
  "margin-top": 0,
  "margin-bottom": 0,
  /////////////////////////////////////////////
  //                                         //
  //  Modules placement / order on bar      //
  //                                         //
  /////////////////////////////////////////////
  "modules-left": [
    "hyprland/workspaces"
  ],
  "modules-center": [
    "clock"
  ],
  "modules-right": [
    "hyprland/language",
    "custom/netspeed",
    "pulseaudio",
    "group/group-tools",
    "battery",
    "group/group-power",
  ],
  ///////////////////////////////////
  //                               //
  //  Modules configuration       //
  //                               //
  ///////////////////////////////////
  // Idle inhibitor icon
  // System tray
  "tray": {
    "icon-size": 20,
    "spacing": 10,
  },
  // Clock
  "clock": {
    "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
    "format-alt": "{:%d-%m-%Y}",
    "format": "{:%I:%M %p}",
  },
  // Network speed
  "custom/netspeed": {
    "exec": "~/.config/hypr/scripts/waybar/netspeed.sh",
    "interval": 1,
    "format": "{}",
    "markup": "pango",
    "tooltip": true,
  },
  // Workspaces (Hyprland)
  "hyprland/workspaces": {
    "on-click": "activate",
    "on-scroll-up": "hyprctl dispatch workspace -5",
    "on-scroll-down": "hyprctl dispatch workspace +5",
    "format": "{icon}",
    "format-icons": {
      "default": "Ó©±",
      "1": "1",
      "2": "2",
      "3": "3",
      "4": "4",
      "5": "5",
      "6": "6",
      "7": "7",
      "8": "8",
      "9": "9",
      "active": "Û±ìª",
    },
    "persistent-workspaces": {
      "1": [],
      "2": [],
      "3": [],
      "4": [],
      "5": [],
      "6": [],
      "7": [],
    },
  },
  // Network icon + tooltip
  "network": {
    "format-icons": [
      "Û∞§Ø",
      "Û∞§ü",
      "Û∞§¢",
      "Û∞§•",
      "Û∞§®"
    ],
    "format": "{icon}",
    "format-wifi": "{icon}",
    "format-ethernet": "Û∞àÄ",
    "format-disconnected": "Û∞ñ™",
    "tooltip-format-wifi": "{essid} ({frequency} GHz)\n‚á£{bandwidthDownBytes}  ‚á°{bandwidthUpBytes}",
    "tooltip-format-ethernet": "‚á£{bandwidthDownBytes}  ‚á°{bandwidthUpBytes}",
    "tooltip-format-disconnected": "Disconnected",
    "interval": 3,
    "spacing": 1,
    "on-click": "kitty --class=Impala -e impala",
  },
  // Battery
  "battery": {
    "format": "{capacity}% {icon}",
    "tooltip": true,
    "format-discharging": "{icon}",
    "format-charging": "{capacity}% {icon}",
    "format-plugged": "Ôá¶",
    "format-icons": {
      "charging": [
        "Û∞¢ú",
        "Û∞ÇÜ",
        "Û∞Çá",
        "Û∞Çà",
        "Û∞¢ù",
        "Û∞Çâ",
        "Û∞¢û",
        "Û∞Çä",
        "Û∞Çã",
        "Û∞ÇÖ"
      ],
      "default": [
        "Û∞Å∫",
        "Û∞Åª",
        "Û∞Åº",
        "Û∞ÅΩ",
        "Û∞Åæ",
        "Û∞Åø",
        "Û∞ÇÄ",
        "Û∞ÇÅ",
        "Û∞ÇÇ",
        "Û∞Åπ"
      ],
    },
    "format-full": "Û∞ÇÖ",
    "tooltip-format-discharging": "{power:>1.0f}W‚Üì {capacity}%",
    "tooltip-format-charging": "{power:>1.0f}W‚Üë {capacity}%",
    "interval": 5,
    "states": {
      "warning": 20,
      "critical": 10,
    },
  },
  // Brightness (custom)
  "custom/brightness": {
    "exec": "~/.config/hypr/scripts/waybar/brightness.sh",
    "interval": 1,
    "return-type": "json",
    "tooltip": true,
    "on-scroll-up": "sh -c 'brightnessctl set +4%'",
    "on-scroll-down": "sh -c 'brightnessctl set 4%-'",
  },
  "hyprland/language": {
    "format": "{}",
    "format-en": "üá∫üá∏",
    "format-mm": "üá≤üá≤",
    "on-click": "hyprctl switchxkblayout current next",
  },
  // Pulseaudio (built-in)
  "pulseaudio": {
    "tooltip": false,
    "format": "{volume}% {icon}",
    "format-bluetooth": "{volume}% {icon}Ôäî",
    "format-bluetooth-muted": "{icon}Ôäî {format_source}",
    "format-muted": "Ôö© {format_source}",
    "format-source": "ÔÑ∞",
    "format-source-muted": "ÔÑ±",
    "format-icons": {
      "headphone": "ÔÄ•",
      "hands-free": "Ôñê",
      "headset": "Ôñê",
      "phone": "ÔÇï",
      "portable": "ÔÇï",
      "car": "ÔÜπ",
      "default": [
        "ÔÄ¶",
        "ÔÄß",
        "ÔÄ®"
      ],
    },
  },
  ///////////////////////////////////
  //                               //
  //  Custom modules / groups      //
  //                               //
  ///////////////////////////////////
  "group/group-tools": {
    "orientation": "inherit",
    "drawer": {
      "transition-duration": 500,
      "children-class": "other-apps",
      "transition-left-to-right": false,
    },
    "modules": [
      "custom/snip",
      "tray",
      "custom/brightness",
      "network"
    ],
  },
  "group/group-apps": {
    "orientation": "inherit",
    "drawer": {
      "transition-duration": 500,
      "children-class": "other-apps",
      "transition-left-to-right": true,
    },
  },
  "custom/snip": {
    "format": "ÔÄ∞",
    "tooltip": true,
    "tooltip-format": "Screenshot",
    "on-click": "grim -g \"$(slurp)\" ~/Pictures/$(date +%s).png",
  },
  "group/group-power": {
    "orientation": "inherit",
    "drawer": {
      "transition-duration": 500,
      "children-class": "not-power",
      "transition-left-to-right": false,
    },
    "modules": [
      "custom/power",
      "custom/quit",
      "custom/lock",
      "custom/reboot"
    ],
  },
  // Power / session buttons
  "custom/quit": {
    "format": "Û∞óº",
    "tooltip": true,
    "tooltip-format": "Logout",
    "on-click": "bash ~/.config/hypr/scripts/waybar/power.sh --logout",
  },
  "custom/lock": {
    "format": "Û∞çÅ",
    "tooltip": true,
    "tooltip-format": "Lock",
    "on-click": "bash ~/.config/hypr/scripts/waybar/lock.sh",
  },
  "custom/reboot": {
    "format": "Û∞úâ",
    "tooltip": true,
    "tooltip-format": "Reboot",
    "on-click": "bash ~/.config/hypr/scripts/waybar/power.sh --reboot",
  },
  "custom/power": {
    "format": "ÔÄë",
    "tooltip": true,
    "tooltip-format": "Shutdown",
    "on-click": "bash ~/.config/hypr/scripts/waybar/power.sh --shutdown",
  },
}
